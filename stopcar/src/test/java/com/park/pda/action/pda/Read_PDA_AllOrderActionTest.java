
package com.park.pda.action.pda;

import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;
import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;

import org.junit.Test;
import org.springframework.test.web.servlet.MvcResult;
import org.springframework.util.LinkedMultiValueMap;
import org.springframework.util.MultiValueMap;

import com.park.action.BaseWebTest;

/**
 * 获取PDA停车场的所有未删除订单
 * @author zyy
 *
 */
public class Read_PDA_AllOrderActionTest extends BaseWebTest {
	/**
	 * 获取PDA停车场的所有未删除订单
	 * @throws Exception
	 * {"data":[{"address_name":"四川省成都市武侯区石羊场街道天府一街铁像寺水街","ai_effect":0,"ai_id":0,"ai_money":0,"allege_state":0,"area_code":"510107","arrive_time":1494990921000,"cancel_state":0,"car_code":"川A66666","charging":1,"charging_time":0,"ctime":1494990921000,"discount_money":0,"discount_name":"","discount_type":0,"expect_info":"","expect_money":0,"expect_state":0,"expect_time":0,"final_time":0,"free_minute":1,"gov_num":"","id":60320,"is_cash":0,"is_del":0,"is_expect_deduct":0,"is_expect_outtime":0,"is_free_minute":0,"is_open":0,"is_over":3,"lat":30.560238,"leave_time":1494997906000,"lng":104.049222,"magnetic_state":0,"money":1,"my_order":"2017051711152133069","note":"","open_time":1494990921000,"order_type":0,"other_order":"","park_type":1,"pay_source":0,"pay_type":0,"phone_type":0,"pi_id":113,"pi_name":"天府一街","pp_state":0,"pp_versioncode":"","pu_id":23,"pu_nd":"20170315105816","scan_time":1494990921000,"start_price":1,"start_time":0,"ui_id":136,"ui_nd":"2017041713539420","ui_tel":"13527385275","upc_id":0,"utime":1494997906000},
	 *     {"address_name":"四川省成都市武侯区石羊场街道天府一街铁像寺水街","ai_effect":0,"ai_id":0,"ai_money":0,"allege_state":0,"area_code":"510107","arrive_time":1494990668000,"cancel_state":0,"car_code":"川E25890","charging":1,"charging_time":0,"ctime":1494990668000,"discount_money":0,"discount_name":"","discount_type":0,"expect_info":"","expect_money":0,"expect_state":0,"expect_time":0,"final_time":0,"free_minute":1,"gov_num":"","id":60316,"is_cash":1,"is_del":0,"is_expect_deduct":0,"is_expect_outtime":0,"is_free_minute":0,"is_open":0,"is_over":1,"lat":30.560238,"leave_time":1495062982000,"lng":104.049222,"magnetic_state":0,"money":1,"my_order":"2017051711110873640","note":"","open_time":1494990668000,"order_type":0,"other_order":"","park_type":1,"pay_source":0,"pay_type":0,"phone_type":0,"pi_id":113,"pi_name":"天府一街","pp_state":1,"pp_versioncode":"","pu_id":23,"pu_nd":"20170315105816","scan_time":1494990668000,"start_price":1,"start_time":0,"ui_id":0,"ui_nd":"","ui_tel":"","upc_id":0,"utime":1494990715000},
	 *     {"address_name":"四川省成都市武侯区石羊场街道天府一街铁像寺水街","ai_effect":0,"ai_id":0,"ai_money":0,"allege_state":0,"area_code":"510107","arrive_time":1494990185000,"cancel_state":0,"car_code":"川E25890","charging":1,"charging_time":0,"ctime":1494990185000,"discount_money":0,"discount_name":"","discount_type":0,"expect_info":"","expect_money":0,"expect_state":0,"expect_time":0,"final_time":0,"free_minute":1,"gov_num":"","id":60311,"is_cash":1,"is_del":0,"is_expect_deduct":0,"is_expect_outtime":0,"is_free_minute":0,"is_open":0,"is_over":1,"lat":30.560238,"leave_time":1495062479000,"lng":104.049222,"magnetic_state":0,"money":1,"my_order":"2017051711030529273","note":"","open_time":1494990185000,"order_type":0,"other_order":"","park_type":1,"pay_source":0,"pay_type":0,"phone_type":0,"pi_id":113,"pi_name":"天府一街","pp_state":1,"pp_versioncode":"","pu_id":23,"pu_nd":"20170315105816","scan_time":1494990185000,"start_price":1,"start_time":0,"ui_id":0,"ui_nd":"","ui_tel":"","upc_id":0,"utime":1494990212000},
	 *     {"address_name":"四川省成都市武侯区石羊场街道天府一街铁像寺水街","ai_effect":0,"ai_id":0,"ai_money":0,"allege_state":0,"area_code":"510107","arrive_time":1494989306000,"cancel_state":0,"car_code":"渝K00002","charging":1,"charging_time":0,"ctime":1494989306000,"discount_money":0,"discount_name":"","discount_type":0,"expect_info":"","expect_money":0,"expect_state":0,"expect_time":0,"final_time":0,"free_minute":1,"gov_num":"","id":60305,"is_cash":1,"is_del":0,"is_expect_deduct":0,"is_expect_outtime":0,"is_free_minute":0,"is_open":0,"is_over":1,"lat":30.560238,"leave_time":1495061590000,"lng":104.049222,"magnetic_state":0,"money":1,"my_order":"2017051710482517333","note":"","open_time":1494989306000,"order_type":0,"other_order":"","park_type":1,"pay_source":0,"pay_type":0,"phone_type":0,"pi_id":113,"pi_name":"天府一街","pp_state":1,"pp_versioncode":"","pu_id":23,"pu_nd":"20170315105816","scan_time":1494989306000,"start_price":1,"start_time":0,"ui_id":0,"ui_nd":"","ui_tel":"","upc_id":0,"utime":1494989323000},
	 *     {"address_name":"四川省成都市武侯区石羊场街道天府一街铁像寺水街","ai_effect":0,"ai_id":0,"ai_money":0,"allege_state":0,"area_code":"510107","arrive_time":1494984447000,"cancel_state":0,"car_code":"川A66666","charging":1,"charging_time":0,"ctime":1494984447000,"discount_money":0,"discount_name":"","discount_type":0,"expect_info":"","expect_money":0,"expect_state":0,"expect_time":0,"final_time":0,"free_minute":1,"gov_num":"","id":60266,"is_cash":0,"is_del":0,"is_expect_deduct":0,"is_expect_outtime":0,"is_free_minute":0,"is_open":0,"is_over":4,"lat":30.560238,"leave_time":1494985357000,"lng":104.049222,"magnetic_state":0,"money":1,"my_order":"2017051709272763918","note":"","open_time":1494984447000,"order_type":0,"other_order":"","park_type":1,"pay_source":2,"pay_type":0,"phone_type":0,"pi_id":113,"pi_name":"天府一街","pp_state":1,"pp_versioncode":"","pu_id":23,"pu_nd":"20170315105816","scan_time":1494984447000,"start_price":1,"start_time":0,"ui_id":136,"ui_nd":"2017041713539420","ui_tel":"13527385275","upc_id":0,"utime":1494986846000},
	 *     {"address_name":"四川省成都市武侯区石羊场街道天府一街铁像寺水街","ai_effect":0,"ai_id":0,"ai_money":0,"allege_state":0,"area_code":"510107","arrive_time":1494983692000,"cancel_state":0,"car_code":"川X12345","charging":1,"charging_time":0,"ctime":1494983692000,"discount_money":0,"discount_name":"","discount_type":0,"expect_info":"","expect_money":0,"expect_state":0,"expect_time":0,"final_time":0,"free_minute":1,"gov_num":"","id":60256,"is_cash":0,"is_del":0,"is_expect_deduct":0,"is_expect_outtime":0,"is_free_minute":0,"is_open":0,"is_over":1,"lat":30.560238,"leave_time":1494983724000,"lng":104.049222,"magnetic_state":0,"money":1,"my_order":"2017051709145277542","note":"","open_time":1494983692000,"order_type":0,"other_order":"","park_type":1,"pay_source":1,"pay_type":0,"phone_type":0,"pi_id":113,"pi_name":"天府一街","pp_state":1,"pp_versioncode":"","pu_id":23,"pu_nd":"20170315105816","scan_time":1494983692000,"start_price":1,"start_time":0,"ui_id":0,"ui_nd":"","ui_tel":"","upc_id":0,"utime":1494983725000},
	 *     {"address_name":"四川省成都市武侯区石羊场街道天府一街铁像寺水街","ai_effect":0,"ai_id":0,"ai_money":0,"allege_state":0,"area_code":"510107","arrive_time":1494983638000,"cancel_state":0,"car_code":"川X12345","charging":1,"charging_time":0,"ctime":1494983638000,"discount_money":0,"discount_name":"","discount_type":0,"expect_info":"","expect_money":0,"expect_state":0,"expect_time":0,"final_time":0,"free_minute":1,"gov_num":"","id":60255,"is_cash":0,"is_del":0,"is_expect_deduct":0,"is_expect_outtime":0,"is_free_minute":0,"is_open":0,"is_over":1,"lat":30.560238,"leave_time":1494983669000,"lng":104.049222,"magnetic_state":0,"money":1,"my_order":"2017051709135897226","note":"","open_time":1494983638000,"order_type":0,"other_order":"","park_type":1,"pay_source":2,"pay_type":0,"phone_type":0,"pi_id":113,"pi_name":"天府一街","pp_state":1,"pp_versioncode":"","pu_id":23,"pu_nd":"20170315105816","scan_time":1494983638000,"start_price":1,"start_time":0,"ui_id":0,"ui_nd":"","ui_tel":"","upc_id":0,"utime":1494983670000},
	 *     {"address_name":"四川省成都市武侯区石羊场街道天府一街铁像寺水街","ai_effect":0,"ai_id":0,"ai_money":0,"allege_state":0,"area_code":"510107","arrive_time":1494924357000,"cancel_state":0,"car_code":"川E25890","charging":1,"charging_time":0,"ctime":1494924357000,"discount_money":0,"discount_name":"","discount_type":0,"expect_info":"","expect_money":0,"expect_state":0,"expect_time":0,"final_time":0,"free_minute":1,"gov_num":"","id":60224,"is_cash":1,"is_del":0,"is_expect_deduct":0,"is_expect_outtime":0,"is_free_minute":0,"is_open":0,"is_over":4,"lat":30.560238,"leave_time":1494925352000,"lng":104.049222,"magnetic_state":0,"money":1,"my_order":"2017051616455613414","note":"","open_time":1494924357000,"order_type":0,"other_order":"","park_type":1,"pay_source":0,"pay_type":0,"phone_type":0,"pi_id":113,"pi_name":"天府一街","pp_state":1,"pp_versioncode":"","pu_id":23,"pu_nd":"20170315105816","scan_time":1494924357000,"start_price":1,"start_time":0,"ui_id":0,"ui_nd":"","ui_tel":"","upc_id":0,"utime":1494990715000},
	 *     {"address_name":"四川省成都市武侯区石羊场街道天府一街铁像寺水街","ai_effect":0,"ai_id":0,"ai_money":0,"allege_state":0,"area_code":"510107","arrive_time":1494923135000,"cancel_state":0,"car_code":"川E30000","charging":1,"charging_time":0,"ctime":1494923135000,"discount_money":0,"discount_name":"","discount_type":0,"expect_info":"","expect_money":0,"expect_state":0,"expect_time":0,"final_time":0,"free_minute":1,"gov_num":"","id":60218,"is_cash":0,"is_del":0,"is_expect_deduct":0,"is_expect_outtime":0,"is_free_minute":0,"is_open":0,"is_over":3,"lat":30.560238,"leave_time":1494925352000,"lng":104.049222,"magnetic_state":0,"money":1,"my_order":"2017051616253499280","note":"","open_time":1494923135000,"order_type":0,"other_order":"","park_type":1,"pay_source":0,"pay_type":0,"phone_type":0,"pi_id":113,"pi_name":"天府一街","pp_state":0,"pp_versioncode":"","pu_id":23,"pu_nd":"20170315105816","scan_time":1494923135000,"start_price":1,"start_time":0,"ui_id":0,"ui_nd":"","ui_tel":"","upc_id":0,"utime":1494925352000},
	 *     {"address_name":"四川省成都市武侯区石羊场街道天府一街铁像寺水街","ai_effect":0,"ai_id":0,"ai_money":0,"allege_state":0,"area_code":"510107","arrive_time":1494921371000,"cancel_state":0,"car_code":"川E31258","charging":1,"charging_time":0,"ctime":1494921371000,"discount_money":0,"discount_name":"","discount_type":0,"expect_info":"","expect_money":0,"expect_state":0,"expect_time":0,"final_time":0,"free_minute":1,"gov_num":"","id":60207,"is_cash":0,"is_del":0,"is_expect_deduct":0,"is_expect_outtime":0,"is_free_minute":0,"is_open":0,"is_over":3,"lat":30.560238,"leave_time":1494925352000,"lng":104.049222,"magnetic_state":0,"money":1,"my_order":"2017051615561117372","note":"","open_time":1494921371000,"order_type":0,"other_order":"","park_type":1,"pay_source":0,"pay_type":0,"phone_type":0,"pi_id":113,"pi_name":"天府一街","pp_state":0,"pp_versioncode":"","pu_id":23,"pu_nd":"20170315105816","scan_time":1494921371000,"start_price":101,"start_time":0,"ui_id":0,"ui_nd":"","ui_tel":"","upc_id":0,"utime":1494925352000}
	 * ],"errorcode":"","errormsg":"获取PDA停车场的所有未删除订单成功","errorno":"0"}
	 */
	@Test
	public void pda_all_order() throws Exception{
		MultiValueMap<String, String> params = new LinkedMultiValueMap<>();
		long pi_id=113;//停车场主键ID
		String area_code="510107";//省市区区域代码  四川省 成都市 龙泉驿区  510112
		int page  = 1;
		int size = 10;
		
		params.add("pi_id", pi_id+"");
		params.add("area_code", area_code);
		params.add("page", page+"");
		params.add("size", size+"");
		params.add("dtype", dtype);
		
		sign(params,"dtype", "pi_id","area_code");
		
		MvcResult mvcResult = mockMvc.perform(post("/v1/pda_all_order").params(params))
			  .andExpect(status().isOk()).andReturn();
		System.err.println(mvcResult.getResponse().getContentAsString());
	}
}
