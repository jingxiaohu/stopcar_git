package com.park.jni;

import java.util.List;
import org.apache.commons.io.FileUtils;
import org.springframework.core.io.ClassPathResource;
import org.springframework.util.Base64Utils;
import zk.jni.Zkfp;

/**
 * @author Peter Wu
 */
class ZkfpTest {

  public static void main(String[] args) throws Exception {
//    System.out.println(System.getProperty("java.library.path"));
//    byte[] decode = Base64Utils.decode("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".getBytes());
//    byte[] decode1 = Base64Utils.decode("TS9TUzIxAAAEbG8ECAUHCc7QAAAcbWkBAABLhJExMGwWAHcNNQDaAG5gdgAfAIQM5gAgbFYMyQAnAAMOiWwxAJAO0QD9AEVh2wA6AMINyAA7bNALrwA/AGAOpWxBAJIOrACIAJxh1gBOADsL2gBLbFcM4QBTAHgMN2xVAFUOtgCZAJhiHQBfANQO+QBhbN0P0QBsAAYNbGx2APMPxAC9AKJiUQB6AFAPDgCDbKYOJQCWAIkPzGyZAJ4PTABcANZjnQCeAI8P8ACtbMoPXwC1ABQPbGy4AE8OiwB6AD1gbwDFANAOmADRbNEOuADiAGUPdGztAOUOVAA/AN5jNwD7ANMPvAD/bAAPxwALAVEOomwMAYgPVgDVAeBjPgAUAdsOmgAdbfAPqAAaAc8NvmwdAYYOwgDuAYxicAA1AQMPmgBCbQAPCEQNFaogPAWnPFghCNE2E49/MnuZNWgU2RfwWRbyQBHfQrkaF3LsFQ/gI4VDK2ltEuiFGdwE5hwlRe2LGgz+HE4MIW3qKg/4CUi6E+kXFnQGH2mEzEeFeAWHGWD8GjYFHKF6I4t6I904K8AQD1gTDiQN2xENT9JkDuvtEdf6HuYDIxT2DrE2EYhqExD8KocIzlh6eAp5F/r6H0h4FB6DFTQBGMhAJEEWClaCGnj72xr+c2x8E1d5FXD/HfWAK8CEEozBHp6bHhH2H/rZ1XR6dZt/IbT4I58DFzyGHcWMISzNJDvqEx8dHAYc25QCc4SIGAijLCwhNHEWP9MiEQg6EriPHocKIBUI3StZcdB0H3V+MBP7FesAESAJHKIhMINnGFiBJzd6pb737OduACA3AcT7E0QFAEgcbZjMAG9waP//xcDABcIAbIscHlcEAF0cGEMFAMMkNzXCAHlKgcTAwoUExSAtPDQEAEEpYpINBOUzjMSSeVYFCQTxQI/CjogRxahK/MDBwcPDwgRvxpPCQAQAL1WSwMZpATRYU8DBBRIE3l2Xw//CwgedxqzDfDYEAMebN2llAWly7f779EoUbMF0osKAjVHDfGABU3faLP07//qT/sAKAGx3NfwjPv8LAGV6WqpkQGUBS3xTbWs6CgQ8f1DBVv9HyQCA7XvFncFLXcwAiOkO/FjATQXFhIwYxIkKAIyI3/77McDB/w8ATVDQRJAg/v9GwA/FmpjyxcnDxP3CnsD7PwcAj6oi/U4FBP23McGUDgCpwc2S//r4/v7/p4QJbHDC0P/89j7/+63A/5MJAI4GMcCtwMFWFQDVeaJgHcDFxMOTwAXAQGsBbMlX/8AHSwxskdscwWRkwQC4iRZzBwBV9xL+xa3AwgoAhrOJwPpb/28HAHz3Nfo2rQIAdf1pwcwAeZL8/S/BWwvVxQP7wWTJgMAG1aII5cDBogMQUtZpxmsRthiMwsBVBBQ3Gm14BBC+2g9ZZxG+KIn+k7V+D3y/LYBRi2rAEKxaAf9TBRB6+IbAOwQQrj4DZcEQtioIdQQQRFDFXVYuAQtDAQAAzkVWbA==".getBytes());
//    System.err.println(Zkfp.SingleMatch(decode, decode1));
    List<String> fp1 = FileUtils.readLines(new ClassPathResource("fp/1.txt").getFile(), "UTF-8");
    List<String> fp2 = FileUtils.readLines(new ClassPathResource("fp/2.txt").getFile(), "UTF-8");
    List<String> fp3 = FileUtils.readLines(new ClassPathResource("fp/3.txt").getFile(), "UTF-8");
    for (String s : fp1) {
      for (String s1 : fp2) {
        System.err.println(Zkfp.SingleMatch(Base64Utils.decodeFromString(s), Base64Utils.decodeFromString(s1)));
      }
    }
    System.err.println(Zkfp.SingleMatch(Base64Utils.decodeFromString(fp3.get(0)), Base64Utils.decodeFromString(fp3.get(0))));
    System.err.println(Zkfp.SingleMatch(Base64Utils.decodeFromString(fp3.get(0)), Base64Utils.decodeFromString(fp3.get(1))));
    System.err.println(Zkfp.SingleMatch(Base64Utils.decodeFromString(fp3.get(0)), Base64Utils.decodeFromString(fp3.get(2))));
    System.err.println(Zkfp.SingleMatch(Base64Utils.decodeFromString(fp3.get(1)), Base64Utils.decodeFromString(fp3.get(2))));

  }
}
